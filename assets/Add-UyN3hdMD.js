import{r as N,c as L,a as n,b as v,d as K,w as t,m as O,t as x,f as D,e,p as z,j as d,u as Z,g as h,h as w,F as C,q as G,k as $,s as Q,v as W}from"./index-QjQL3-hX.js";import{u as X}from"./program-9UA8xsmc.js";import{_ as Y}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./index-pnyoYTwp.js";const ee=d("span",{class:"text-h5"},"Add New Lesson",-1),le=d("small",null,"*Zorunlu Alanlar",-1),oe={__name:"LessonAddDialog",props:{day:{type:String,required:!0}},emits:["update:lesson"],setup(l,{emit:s}){const a=N(!1),_=l,o=N({id:0,day:"",hour:"",lessonCode:"",lessonName:"",teacher:"",classroom:"",block:1}),P=s,B=()=>{o.value.id=Math.floor(Math.random()*1e6),o.value.day=_.day,S.value=S.value.filter(m=>m!==o.value.hour),P("update:lesson",o.value),o.value={id:0,day:"",hour:"",lessonCode:"",lessonName:"",teacher:"",classroom:"",block:1},a.value=!1},A=()=>{a.value=!1},S=N(["08:15 - 09:00","09:15 - 10:00","10:15 - 11:00","11:15 - 12:00","13:15 - 14:00","14:15 - 15:00","15:15 - 16:00","16:15 - 17:00"]),f=m=>!!m||"This field is required",p=L(()=>o.value.lessonCode===""||o.value.lessonName===""||o.value.teacher===""||o.value.classroom===""||o.value.hour==="");return(m,r)=>{const y=n("v-btn"),T=n("v-card-title"),b=n("v-text-field"),V=n("v-col"),M=n("v-select"),k=n("v-row"),R=n("v-container"),j=n("v-card-text"),E=n("v-spacer"),H=n("v-card-actions"),J=n("v-card"),i=n("v-form"),U=n("v-dialog");return v(),K(k,{justify:"center"},{default:t(()=>[e(U,{modelValue:a.value,"onUpdate:modelValue":r[5]||(r[5]=c=>a.value=c),persistent:"",width:"1024"},{activator:t(({props:c})=>[e(y,O({color:"primary"},c,{icon:""}),{default:t(()=>[D(x(_.day.charAt(0).toUpperCase()),1)]),_:2},1040)]),default:t(()=>[e(i,{onSubmit:z(B,["prevent"])},{default:t(()=>[e(J,null,{default:t(()=>[e(T,{class:"text-center"},{default:t(()=>[ee]),_:1}),e(j,null,{default:t(()=>[e(R,null,{default:t(()=>[e(k,null,{default:t(()=>[e(V,{cols:"12",sm:"6",md:"6"},{default:t(()=>[e(b,{modelValue:o.value.lessonCode,"onUpdate:modelValue":r[0]||(r[0]=c=>o.value.lessonCode=c),label:"Ders Kodu*",placeholder:"BMB203",required:"",rules:[f]},null,8,["modelValue","rules"])]),_:1}),e(V,{cols:"12",sm:"6",md:"6"},{default:t(()=>[e(b,{modelValue:o.value.lessonName,"onUpdate:modelValue":r[1]||(r[1]=c=>o.value.lessonName=c),label:"Ders Adı*",placeholder:"Internet Programcılığı",required:"",rules:[f]},null,8,["modelValue","rules"])]),_:1}),e(V,{cols:"12",sm:"6",md:"6"},{default:t(()=>[e(b,{modelValue:o.value.teacher,"onUpdate:modelValue":r[2]||(r[2]=c=>o.value.teacher=c),label:"Öğretmen*",placeholder:"John Doe",required:"",rules:[f]},null,8,["modelValue","rules"])]),_:1}),e(V,{cols:"12",sm:"6",md:"6"},{default:t(()=>[e(b,{modelValue:o.value.classroom,"onUpdate:modelValue":r[3]||(r[3]=c=>o.value.classroom=c),label:"Derslik*",placeholder:"Sınıf Kodu ya da Teams",required:"",type:"text",rules:[f]},null,8,["modelValue","rules"])]),_:1}),e(V,{cols:"12",sm:"12",md:"12"},{default:t(()=>[e(M,{modelValue:o.value.hour,"onUpdate:modelValue":r[4]||(r[4]=c=>o.value.hour=c),label:"Saat*",items:S.value,rules:[f]},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1}),le]),_:1}),e(H,null,{default:t(()=>[e(E),e(y,{color:"primary",variant:"outlined",onClick:A,rounded:""},{default:t(()=>[D(" Close ")]),_:1}),e(y,{disabled:p.value,color:"success",variant:"outlined",type:"submit",rounded:""},{default:t(()=>[D(" Save ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};let I;const te=new Uint8Array(16);function se(){if(!I&&(I=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!I))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I(te)}const u=[];for(let l=0;l<256;++l)u.push((l+256).toString(16).slice(1));function ne(l,s=0){return u[l[s+0]]+u[l[s+1]]+u[l[s+2]]+u[l[s+3]]+"-"+u[l[s+4]]+u[l[s+5]]+"-"+u[l[s+6]]+u[l[s+7]]+"-"+u[l[s+8]]+u[l[s+9]]+"-"+u[l[s+10]]+u[l[s+11]]+u[l[s+12]]+u[l[s+13]]+u[l[s+14]]+u[l[s+15]]}const ae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),F={randomUUID:ae};function de(l,s,a){if(F.randomUUID&&!s&&!l)return F.randomUUID();l=l||{};const _=l.random||(l.rng||se)();if(_[6]=_[6]&15|64,_[8]=_[8]&63|128,s){a=a||0;for(let o=0;o<16;++o)s[a+o]=_[o];return s}return ne(_)}const q=l=>(Q("data-v-dd005e62"),l=l(),W(),l),ue=q(()=>d("th",null,null,-1)),re=q(()=>d("br",null,null,-1)),ce={style:{"min-width":"75px"}},me={class:"lesson"},ie={key:0},_e={class:"lesson_code"},ve=q(()=>d("br",null,null,-1)),pe=q(()=>d("br",null,null,-1)),ye={class:"text-end"},he={key:0,class:"empty_lesson_slot"},fe={__name:"Add",setup(l){G(p=>({"5648d77f":o.value}));const s=X(),a=N({id:"",userId:"",class:"",department:"",days:[{id:1,day:"Pazartesi",lessons:[]},{id:2,day:"Salı",lessons:[]},{id:3,day:"Çarşamba",lessons:[]},{id:4,day:"Perşembe",lessons:[]},{id:5,day:"Cuma",lessons:[]}]}),_=Z(),o=L(()=>_.global.current.value.dark?"#171717":"#f2f2f2"),P=p=>{a.value.days.forEach(m=>{m.day===p.day&&(m.lessons.push(p),m.lessons.sort((r,y)=>r.hour.split(":")[0]-y.hour.split(":")[0]))}),localStorage.setItem("lessonProgram",JSON.stringify(a.value))},B=()=>{const p=JSON.parse(localStorage.getItem("user"));a.value.userId=p.uid,a.value.id=de(),s.addProgram(a.value)},A=L(()=>a.value.department===""||a.value.class===""),S=["08:15 - 09:00","09:15 - 10:00","10:15 - 11:00","11:15 - 12:00","13:15 - 14:00","14:15 - 15:00","15:15 - 16:00","16:15 - 17:00"],f=["1. sınıf","2. sınıf","3. sınıf","4. sınıf"];return(p,m)=>{const r=n("v-text-field"),y=n("v-col"),T=n("v-select"),b=n("v-row"),V=n("v-card-title"),M=n("v-table"),k=n("v-card-text"),R=n("v-divider"),j=n("v-spacer"),E=n("v-btn"),H=n("v-card-actions"),J=n("v-card");return v(),K(J,{width:"95%",class:"mt-5 mb-10",elevation:"12"},{default:t(()=>[e(V,null,{default:t(()=>[e(b,null,{default:t(()=>[e(y,{cols:"12",md:"6",sm:"12"},{default:t(()=>[e(r,{modelValue:a.value.department,"onUpdate:modelValue":m[0]||(m[0]=i=>a.value.department=i),label:"Bölüm",placeholder:"Bilgisayar Programcılığı",required:""},null,8,["modelValue"])]),_:1}),e(y,{cols:"12",md:"6",sm:"12"},{default:t(()=>[e(T,{modelValue:a.value.class,"onUpdate:modelValue":m[1]||(m[1]=i=>a.value.class=i),label:"Sınıf",items:f,required:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b)]),_:1}),e(k,null,{default:t(()=>[e(M,null,{default:t(()=>[d("thead",null,[d("tr",null,[ue,(v(),h(C,null,w(S,(i,U)=>d("th",{class:"hours text-center",key:U},[d("span",null,x(i.split("-")[0]),1),re,d("span",null,x(i.split("-")[1]),1)])),64))])]),d("tbody",null,[(v(!0),h(C,null,w(a.value.days,i=>(v(),h("tr",{key:i.id},[d("th",ce,[e(oe,{day:i.day,"onUpdate:lesson":P},null,8,["day"])]),(v(),h(C,null,w(S,(U,c)=>d("td",{key:c},[d("div",me,[(v(!0),h(C,null,w(i.lessons,g=>(v(),h(C,null,[g.hour===U?(v(),h("div",ie,[d("span",_e,x(g.lessonCode),1),d("span",null,x(g.lessonName),1),ve,d("span",null,x(g.teacher),1),pe,d("div",ye,[d("span",null,x(g.classroom),1)])])):$("",!0)],64))),256)),i.lessons.some(g=>g.hour===U)?$("",!0):(v(),h("div",he))])])),64))]))),128))])]),_:1})]),_:1}),e(R),e(H,null,{default:t(()=>[e(j),e(E,{disabled:A.value,color:"success",variant:"outlined",onClick:B,rounded:""},{default:t(()=>[D(" Save ")]),_:1},8,["disabled"])]),_:1})]),_:1})}}},Se=Y(fe,[["__scopeId","data-v-dd005e62"]]);export{Se as default};
