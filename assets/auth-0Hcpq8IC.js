import{x as l,y as o}from"./index-SsXmd-RD.js";import{e as i,s as n,f as u,d,c,a as h,h as m}from"./index-pnyoYTwp.js";const p=l("auth",{state:()=>({user:JSON.parse(localStorage.getItem("user"))||null}),actions:{async login(r){const{email:s,password:t}=r;try{const e=(await n(i,s,t)).user;this.user=e,localStorage.setItem("user",JSON.stringify(e)),o.push("/dashboard")}catch(a){switch(a.code){case"auth/invalid-email":alert("Email is invalid");break;case"auth/user-disabled":alert("User is disabled");break;case"auth/user-not-found":alert("User not found");break;case"auth/wrong-password":alert("Wrong password");break;default:alert("Error: ",a);break}}},async register(r){const{email:s,password:t}=r;try{const e=(await u(i,s,t)).user;this.user=e,await h(c(d,"users"),{id:e.uid,email:e.email}),o.push("/authentication/login")}catch(a){switch(console.log(a),a.code){case"auth/email-already-in-use":alert("Email is already in use");break;case"auth/invalid-email":alert("Email is invalid");break;case"auth/operation-not-allowed":alert("Operation not allowed");break;case"auth/weak-password":alert("Weak password");break;default:alert("Error: ",a.code);break}}},async logout(){try{await m(i),this.user=null,localStorage.removeItem("user"),o.push("/authentication/login")}catch(r){alert("Error: ",r)}}}});export{p as u};
